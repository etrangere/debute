<?phpinclude_once('C_Base.php');include_once('Model/model.php');//// Контроллер страницы редактирования.//class C_Edit extends C_Base{    protected $article_title;    public $id_article;    protected $article;    protected $content;	// текст	private $error;	// сообщение об ошибке	//	// Конструктор.	//	function __construct()	{        parent::Startup();	}		//	// Виртуальный обработчик запроса.	//	protected function OnInput()	{	    parent::OnInput();		$this->title = $this->title . ' :: Редактирование';        if ($this->IsPost())		{            $this->article_title = $_POST['title'];            $this->content = $_POST['text'];            $this->id_article = $_POST['id'];            $content = $this->content;            $id_article = $this->id_article;						if (strpos($content, '<') !== false)			{				// неудачная отправка формы				$this->content = $content;				$this->error = 'Текст не должен содержать теги';			}			else						{				// удачная отправка формы                Model::articles_edit($this->id_article,$this->article_title,$content);                header('Location: index.php');				die();					}		}		else		{            // запрос формы			$this->content = articles_get($this->content);		}	}	//	// Виртуальный генератор HTML.	//		protected function OnOutput()	{		$vars = array('text' => $this->content, 'error' => $this->error);		$page = $this->Template('View/v_edit.php', $vars);        echo $page;	}	}/*$id_article = $_GET['id'];ARTIC_all :: articles_get($id_article);$db_article = ARTIC_all::articles_get($id_article);foreach($db_article as $one_article){    $x = $one_article['title'];    $y = $one_article['content'];}if (isset($_POST['edit'])){    ARTIC_all::articles_edit($_GET['id'],$_POST['title'],$_POST['content']);    header('Location: v_editor.php');}if(isset($_POST['delete'])){    ARTIC_all::articles_delete($id_article);    header('Location: v_editor.php');    die();}*/