


*PHP and Web Security
PHP 5.3 to PHP 5.6 API
Object Oriented Programming+
Namespaces
Interfaces
Anonymous functions and closures
Abstract classes+
Exception and error handling
Traits
PHP extensions
SPL
Web security (XSS, CSRF, etc.)

*HTTP
Client / Server interaction
Status codes
HTTP request
HTTP response
HTTP methods
Cookies
Caching
Content negotiation
Language detection

*Symfony Architecture
Symfony Standard Edition
License
Components
Bundles+
Bridges
Configuration
Code organization
Request handling
Exception handling
Event dispatcher and kernel events
Official best practices
Release management
Backward compatibility promise
Deprecations best practices

*Standardization
Release management and roadmap schedule
Framework interoperability and PSRs
Naming conventions
Coding standards
Third-party libraries integration
Composer packages handling
Development best practices
Framework overloading
Semantic versioning

*Bundles
Naming conventions
Code organization
Controllers+
The views+
The resources
Overriding default error pages
Bundle inheritance
Event dispatcher and kernel events
Semantic configuration and compiler passes

*Controllers
Naming conventions
The base Controller class
The request
The response
The cookies
The session
The flash messages
HTTP redirects
Internal redirects
Generate 404 pages
File upload
Built-in internal controllers

*Routing
Configuration (YAML, XML, PHP & annotations)
Restrict URL parameters
Set default values to URL parameters
Generate URL parameters
Trigger redirects
Special internal routing attributes
Domain name matching
Conditional request matching
HTTP methods matching
User's locale guessing
Router debugging

*Templating with Twig
Auto escaping
Template inheritance
Global variables
Filters and functions
Template includes
Loops and conditions
URLs generation
Controller rendering
Translations and pluralization
String interpolation
Assets management
Debugging variables

*Forms
Forms creation
Forms handling
Form types
Forms rendering with Twig
Forms theming
CSRF protection
Handling file upload
Built-in form types
Data transformers
Form events
Form type extensions

*Data Validation
PHP object validation
Built-in validation constraints
Validation scopes
Validation groups
Group sequence
Custom callback validators
Violations builder

*Dependency Injection
Service container
Built-in services
Configuration parameters
Services registration
Tags
Semantic configuration
Factories
Compiler passes
Services autowiring

*Security
Authentication
Authorization
Configuration
Providers
Firewalls
Users
Passwords encoders
Roles
Access Control Rules
Guard authenticators
Voters and voting strategies

*HTTP Caching
Cache types (browser, proxies and reverse-proxies)
Expiration (Expires, Cache-Control)
Validation (ETag, Last-Modified)
Client side caching
Server side caching
Edge Side Includes

*Console
Built-in commands
Custom commands
Configuration
Options and arguments
Input and Output objects
Built-in helpers
Console events
Verbosity levels

*Automated Tests
Unit tests with PHPUnit
Functional tests with PHPUnit
Client object
Crawler object
Profile object
Framework objects access
Client configuration
Request and response objects introspection
PHPUnit bridge
Handling legacy deprecated code

*Miscellaneous
Error handling
Code debugging
Deployment best practices
Process and Serializer components
Data collectors
Web Profiler and Web Debug Toolbar
Internationalization and localization




*******************************************************




Symfony 3.4 

**install**

 sudo mkdir -p /usr/local/bin
 sudo curl -LsS https://symfony.com/installer -o /usr/local/bin/symfony
 sudo chmod a+x /usr/local/bin/symfony


**change to web folder linux and create new project**

 cd /var/www/
 symfony new my_project_name 3.4

 // if need some special version must replace 3.4 with the one we need

**composer install**

php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
php -r "if (hash_file('SHA384', 'composer-setup.php') === '93b54496392c062774670ac18b134c3b3a95e5a5e5c8f1a9f115f203b75bf9a129d5daa8ba6a13e2cc8a1da0806388a8') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"
php composer-setup.php
php -r "unlink('composer-setup.php');"


sudo mv composer.phar /usr/local/bin/composer

//to test install -- type in terminal :composer
//if there is a list of commands its ok 


**change to web folder and create new project with composer**

navigate to web root or where you need your project files 

composer create-project symphony/framework-standard-edition sf ~3.4

// will ask to respond to questions
// symphony/framework-standard-edition - this is a name of package to install
// sf - name of the new created folder where is all project situated


**check PHP version for Symfony compatibility**

composer require symfony/requirements-checker //to install this checker


php bin/symfony_requirements //execute to check --- OK,WARNING-is not block for job,ERROR-block job

**versioning 3.4.1  MAJOR-release,MINOR-functionality,PATCH-bug corrections**

**run project**

 cd /project directory
 php bin/console server:run  // for built in php server to run, if there is already just  url with localhost to project folder 



**create a bundle with command line**

 php bin/console generate:bundle
 
 ex: name of bundle OC\PlatformBundle // OC - your enterprise or your ID name,Platform is the bundle name,Bundle is the suffix
 sharing across multiple applications: yes
 config format YML :yes

**


**Symfony3 simple caching**

composer require symfony/cache

use Symfony\Component\Cache\Simple\FilesystemCache;

also there is array option check doc.
//set
$cache = new FilesystemCache();

            $cache->set('room_type', $form_data['room_type']);
            $cache->set('adult', $form_data['adult']);
            $cache->set('child', $form_data['child']);
            $cache->set('baby', $form_data['baby']);

//get

 $cache = new FilesystemCache();
            $data ['or somthing you need or variable $data insted'] = $cache->get('room_type');
            $data ['adult'] = $cache->get('adult');
            $data ['child'] = $cache->get('child');
            $data ['baby'] = $cache->get('baby');



**API with reCaptcha bundle** -not succes but keep in mind

composer require google/recaptcha "~1.1"

this for html->

<!-- Important to add the recaptcha api in your document -->
<script src='https://www.google.com/recaptcha/api.js'></script>

<form method="post" action="path/to/action" id="contact-form">
  <input type="text" name="name" />
  <input type="subject" name="subject" />
  <textarea rows="5" name="message"></textarea>
  <!-- Now add the widget with the sitekey that you retrieve in the registration -->
  <div class="g-recaptcha" data-sitekey="mypublicdata-sitekey-ofthe-google-panel"></div>
  <button type="submit">Send message</button>
</form>

 {# or if you're using twig #}

{{form_start(form)}}
   {{form_widget(form.name)}}
   {{form_widget(form.subject)}}
   {{form_widget(form.message)}}
   <!-- Now add the widget with the sitekey that you retrieve in the registration --> 
   <div class="g-recaptcha" data-sitekey="mypublicdata-sitekey-ofthe-google-panel"></div>

   {{form_widget(form.submit)}}
{{form_end(form)}}


this for controller ->

use Symfony\Component\HttpFoundation\Request; // Handle the request in the controller
use ReCaptcha\ReCaptcha; // Include the recaptcha lib

public function mysubmitedAction(Request $request){
  $recaptcha = new ReCaptcha('here-is-the-secret-key-that-no-one-but-you-shouldKnow');
  $resp = $recaptcha->verify($request->request->get('g-recaptcha-response'), $request->getClientIp());

  if (!$resp->isSuccess()) {
    // Do something if the submit wasn't valid ! Use the message to show something
    $message = "The reCAPTCHA wasn't entered correctly. Go back and try it again." . "(reCAPTCHA said: " . $resp->error . ")";
  }else{
    // Everything works good ;) your contact has been saved.
  }
}

but it not complite
so here is working solution without bundle


        if ($form->isSubmitted()) {

            $form_data = $form->getData();
            $data['form'] = [];
            $data ['form'] = $form_data;
            $contact_email = $form_data['contact_email'];
            $contact_subject = $form_data['contact_subject'];
            $contact_message = $form_data['contact_message'];

            $secure_key = "6LcFNIUUAAAAAFYY4RjIMo9a9OAR3QokdNJQOWcG";
            $response_key = $request->get('g-recaptcha-response');
            $contact_ip = $request->getClientIp();
            $url="https://www.google.com/recaptcha/api/siteverify?secret=$secure_key&response=$response_key&remoteip=$contact_ip";
            $response = \file_get_contents($url);
            $response = json_decode($response);


            var_dump($response);

            if ($response->success){ the remaining code + else if not succes}



**API google map**

<style>
   /* Set the size of the div element that contains the map */
     #map {
   height: 400px;  /* The height is 400 pixels */
   width: 100%;  /* The width is the width of the web page */
   }
</style>

<script>
        // Initialize and add the map
        function initMap() {
            // The location of Uluru 40.743022, -73.996508
            var uluru = {lat: 40.743022, lng: -73.996508};
            // The map, centered at Uluru
            var map = new google.maps.Map(
                document.getElementById('map'), {zoom: 4, center: uluru});
            // The marker, positioned at Uluru
            var marker = new google.maps.Marker({position: uluru, map: map});
        }
</script>

<script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDhu2ghNY3uQubhWnDMY3sUS0135x9FdLc&callback=initMap">
    </script>


**TCPDF bundle for pdf generation**






